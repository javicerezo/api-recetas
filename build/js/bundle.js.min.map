{"version":3,"sources":["app.js"],"names":["resultadosContenedor","document","querySelector","modalContenedor","selectCategorias","subnav","burger","iniciarApp","obtenerCategorias","fetch","then","respuesta","json","resultado","mostrarCategorias","categories","categorias","forEach","categoria","strCategory","option","createElement","value","textContent","appendChild","li","classList","add","children","seleccionarCategoria","e","target","mostrarRecetas","meals","recetas","limpiarHTML","h2","length","contenedorUl","receta","strMeal","strMealThumb","idMeal","innerHTML","seleccionarReceta","id","mostrarRecetaModal","strInstructions","screenModal","contenedor","firstChild","removeChild","addEventListener","contains","toggle","getAttribute"],"mappings":"AAEA,MAAAA,qBAAAC,SAAAC,cAAA,8BACAC,gBAAAF,SAAAC,cAAA,aAEAE,iBAAAH,SAAAC,cAAA,eACAG,OAAAJ,SAAAC,cAAA,mBACAI,OAAAL,SAAAC,cAAA,sBA8BA,SAAAK,aACAC,oBAGA,SAAAA,oBAEAC,MADA,0DAEAC,KAAAC,GAAAA,EAAAC,QACAF,KAAAG,GAAAC,kBAAAD,EAAAE,aAGA,SAAAD,kBAAAE,EAAA,IACAA,EAAAC,QAAAC,IACA,MAAAC,YAAAA,GAAAD,EACAE,EAAAnB,SAAAoB,cAAA,UACAD,EAAAE,MAAAH,EACAC,EAAAG,YAAAJ,EACAf,iBAAAoB,YAAAJ,GAEA,MAAAK,EAAAxB,SAAAoB,cAAA,MACAI,EAAAC,UAAAC,IAAA,oBACAF,EAAAF,YAAAJ,EACAd,OAAAuB,SAAA,GAAAJ,YAAAC,KAIA,SAAAI,qBAAAC,GACA,MAAAZ,EAAAY,EAAAC,OAAAT,MAGAb,MAFA,wDAAAS,GAGAR,KAAAC,GAAAA,EAAAC,QACAF,KAAAG,GAAAmB,eAAAnB,EAAAoB,QAGA,SAAAD,eAAAE,EAAA,IACAC,YAAAnC,sBAEA,MAAAoC,EAAAnC,SAAAoB,cAAA,MACAe,EAAAb,YAAAW,EAAAG,OAAA,aAAA,oBACAD,EAAAV,UAAAC,IAAA,oBAEA,MAAAW,EAAArC,SAAAoB,cAAA,MACAiB,EAAAZ,UAAAC,IAAA,oBAEA3B,qBAAAwB,YAAAY,GACApC,qBAAAwB,YAAAc,GAGAJ,EAAAjB,QAAAsB,IACA,MAAAC,QAAAA,EAAAC,aAAAA,EAAAC,OAAAA,GAAAH,EACAd,EAAAxB,SAAAoB,cAAA,MACAI,EAAAC,UAAAC,IAAA,oBACAF,EAAAkB,UAAA,iFAEAF,wBAAAA,mIAGAD,mFACAE,sDAGAJ,EAAAd,YAAAC,KAIA,SAAAmB,kBAAAC,GAGApC,MAFA,oDAAAoC,GAGAnC,KAAAC,GAAAA,EAAAC,QACAF,KAAAG,GAAAiC,mBAAAjC,EAAAoB,MAAA,KAGA,SAAAa,mBAAAP,GACA,MAAAG,OAAAA,EAAAK,gBAAAA,EAAAP,QAAAA,EAAAC,aAAAA,GAAAF,EAEAS,EAAA/C,SAAAoB,cAAA,OACA2B,EAAAtB,UAAAC,IAAA,mBACAqB,EAAAL,UAAA,2EAEAH,sIAGAC,wJAGAM,yGAEAL,sOAQAvC,gBAAAqB,YAAAwB,GACA7C,gBAAAuB,UAAAC,IAAA,gBAIA,SAAAQ,YAAAc,GACA,KAAAA,EAAAC,YACAD,EAAAE,YAAAF,EAAAC,YAlIA9C,iBAAAgD,iBAAA,SAAAvB,sBAEAvB,OAAA8C,iBAAA,QAAAtB,KACAA,EAAAC,OAAAL,UAAA2B,SAAA,OAAAvB,EAAAC,OAAAL,UAAA2B,SAAA,uBACAhD,OAAAqB,UAAA4B,OAAA,wBAIAtD,qBAAAoD,iBAAA,QAAAtB,IACA,GAAAA,EAAAC,OAAAL,UAAA2B,SAAA,YAAA,CAEAT,kBADAd,EAAAC,OAAAwB,aAAA,UAKApD,gBAAAiD,iBAAA,QAAAtB,KACAA,EAAAC,OAAAL,UAAA2B,SAAA,aAAAvB,EAAAC,OAAAL,UAAA2B,SAAA,qBACAlB,YAAAhC,mBAKAF,SAAAmD,iBAAA,mBAAA7C","file":"bundle.js","sourcesContent":["// VARIABLES\r\n\r\nconst resultadosContenedor = document.querySelector('.js-resultados__contenedor');\r\nconst modalContenedor = document.querySelector('.js-modal');\r\n\r\nconst selectCategorias = document.querySelector('#categorias');\r\nconst subnav = document.querySelector('.js-nav__subnav');\r\nconst burger = document. querySelector('.js-nav__li-burger');\r\n\r\n\r\n//EVENTOS\r\nselectCategorias.addEventListener('change', seleccionarCategoria);\r\n\r\nburger.addEventListener('click', (e) => {\r\n    if (e.target.classList.contains('fa') || e.target.classList.contains('js-nav__li-burger')) {\r\n        subnav.classList.toggle('c-nav__subnav--mod')\r\n    }\r\n})\r\n\r\nresultadosContenedor.addEventListener('click', (e) => {\r\n    if(e.target.classList.contains('js-boton')){\r\n        const id = e.target.getAttribute('id');\r\n        seleccionarReceta(id);    \r\n    }\r\n})\r\n\r\nmodalContenedor.addEventListener('click', (e) => {\r\n    if(e.target.classList.contains('fa-xmark') || e.target.classList.contains('c-modal__screen')){\r\n        limpiarHTML(modalContenedor);\r\n    }\r\n});\r\n\r\n    // evento para iniciar la app\r\ndocument.addEventListener('DOMContentLoaded', iniciarApp);\r\n\r\n// FUNCIONES\r\n    //funcion para inciar la app\r\nfunction iniciarApp () {\r\n    obtenerCategorias();\r\n}\r\n\r\nfunction obtenerCategorias () {\r\n    const url = 'https://www.themealdb.com/api/json/v1/1/categories.php';\r\n    fetch (url)\r\n        .then(respuesta => respuesta.json())\r\n        .then (resultado => mostrarCategorias(resultado.categories))\r\n}\r\n\r\nfunction mostrarCategorias (categorias = []) {\r\n    categorias.forEach( categoria => {\r\n        const {strCategory} = categoria;\r\n        const option = document.createElement('OPTION');\r\n        option.value = strCategory;\r\n        option.textContent = strCategory;\r\n        selectCategorias.appendChild(option)\r\n\r\n        const li = document.createElement('LI');\r\n        li.classList.add('c-nav__subnav-li');\r\n        li.textContent = strCategory;\r\n        subnav.children[0].appendChild(li);\r\n    })\r\n}\r\n\r\nfunction seleccionarCategoria (e) {\r\n    const categoria = e.target.value;\r\n    const url = `https://www.themealdb.com/api/json/v1/1/filter.php?c=${categoria}`;\r\n    \r\n    fetch (url)\r\n        .then(respuesta => respuesta.json())\r\n        .then(resultado => mostrarRecetas(resultado.meals));\r\n}\r\n\r\nfunction mostrarRecetas (recetas = []) {\r\n    limpiarHTML(resultadosContenedor);\r\n    \r\n    const h2 = document.createElement('H2');\r\n    h2.textContent = recetas.length ? 'Resultados': 'No hay resultados';\r\n    h2.classList.add('c-resultados__h2');\r\n\r\n    const contenedorUl = document.createElement('UL');\r\n    contenedorUl.classList.add('c-resultados__ul');\r\n\r\n    resultadosContenedor.appendChild(h2);\r\n    resultadosContenedor.appendChild(contenedorUl);\r\n\r\n    //iterarmos y mostramos los resultados\r\n    recetas.forEach(receta => {\r\n        const {strMeal, strMealThumb, idMeal} = receta;\r\n        const li = document.createElement('LI');\r\n        li.classList.add('c-resultados__li');\r\n        li.innerHTML = `\r\n            <div class=\"c-resultados__li-imagen\">\r\n                <img src=${strMealThumb} alt=\"imagen receta ${strMealThumb}\">\r\n            </div>\r\n            <div class=\"c-resultados__li-contenido\">\r\n                <h3 class=\"c-resultados__titulo\">${strMeal}</h3>\r\n                <button class=\"c-resultados__boton c-boton js-boton\" id=${idMeal}>Ver receta</button>\r\n            </div>\r\n        `;\r\n        contenedorUl.appendChild(li);\r\n    })\r\n}\r\n\r\nfunction seleccionarReceta (id) {\r\n    const url = `https://themealdb.com/api/json/v1/1/lookup.php?i=${id}`;\r\n    \r\n    fetch (url)\r\n        .then ( respuesta => respuesta.json())\r\n        .then ( resultado => mostrarRecetaModal(resultado.meals[0]))\r\n}\r\n\r\nfunction mostrarRecetaModal (receta) {\r\n    const {idMeal, strInstructions, strMeal, strMealThumb} = receta;\r\n\r\n    const screenModal = document.createElement('DIV');\r\n    screenModal.classList.add('c-modal__screen');\r\n    screenModal.innerHTML = `\r\n        <li class='c-modal__li'>\r\n            <h2 class='c-modal__h2'>${strMeal}</h2>\r\n            <div class='c-modal__li-contenido'>\r\n                <div class='c-modal__img'>\r\n                    <img src='${strMealThumb}' alt='imagen producto'>\r\n                </div>\r\n                <h3 class='c-modal__h3'>Instrucciones</h3>\r\n                <p class='c-modal__p'>${strInstructions}</p>   \r\n            </div>\r\n                <button class='c-modal__boton c-boton js-boton' data-id=${idMeal}>Guardar Favoritos</button>\r\n            <div class='c-modal__close'>\r\n                <i class='fa-solid fa-xmark'></i>\r\n            </div>\r\n            <div class='c-modal__mensaje'>\r\n            </div> \r\n        </li>\r\n    `;\r\n    modalContenedor.appendChild(screenModal);\r\n    modalContenedor.classList.add('c-modal--mod');\r\n\r\n}\r\n\r\nfunction limpiarHTML (contenedor) {\r\n    while (contenedor.firstChild) {\r\n        contenedor.removeChild(contenedor.firstChild)\r\n    }\r\n}\r\n\r\n"]}