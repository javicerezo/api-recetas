const resultadosContenedor=document.querySelector(".js-resultados__contenedor"),modalContenedor=document.querySelector(".js-modal"),selectCategorias=document.querySelector("#categorias"),subnav=document.querySelector(".js-nav__subnav"),burger=document.querySelector(".js-nav__li-burger");function iniciarApp(){obtenerCategorias()}function obtenerCategorias(){fetch("https://www.themealdb.com/api/json/v1/1/categories.php").then(e=>e.json()).then(e=>mostrarCategorias(e.categories))}function mostrarCategorias(e=[]){e.forEach(e=>{const{strCategory:t}=e,a=document.createElement("OPTION");a.value=t,a.textContent=t,selectCategorias.appendChild(a);const n=document.createElement("LI");n.classList.add("c-nav__subnav-li"),n.textContent=t,subnav.children[0].appendChild(n)})}function seleccionarCategoria(e){const t=e.target.value;fetch("https://www.themealdb.com/api/json/v1/1/filter.php?c="+t).then(e=>e.json()).then(e=>mostrarRecetas(e.meals))}function mostrarRecetas(e=[]){limpiarHTML(resultadosContenedor);const t=document.createElement("H2");t.textContent=e.length?"Resultados":"No hay resultados",t.classList.add("c-resultados__h2");const a=document.createElement("UL");a.classList.add("c-resultados__ul"),resultadosContenedor.appendChild(t),resultadosContenedor.appendChild(a),e.forEach(e=>{const{strMeal:t,strMealThumb:n,idMeal:s}=e,o=document.createElement("LI");o.classList.add("c-resultados__li"),o.innerHTML=`\n            <div class="c-resultados__li-imagen">\n                <img src=${n} alt="imagen receta ${n}">\n            </div>\n            <div class="c-resultados__li-contenido">\n                <h3 class="c-resultados__titulo">${t}</h3>\n                <button class="c-resultados__boton c-boton js-boton" id=${s}>Ver receta</button>\n            </div>\n        `,a.appendChild(o)})}function seleccionarReceta(e){fetch("https://themealdb.com/api/json/v1/1/lookup.php?i="+e).then(e=>e.json()).then(e=>mostrarRecetaModal(e.meals[0]))}function mostrarRecetaModal(e){const{idMeal:t,strInstructions:a,strMeal:n,strMealThumb:s}=e,o=document.createElement("DIV");o.classList.add("c-modal__screen"),o.innerHTML=`\n        <li class='c-modal__li'>\n            <h2 class='c-modal__h2'>${n}</h2>\n            <div class='c-modal__li-contenido'>\n                <div class='c-modal__img'>\n                    <img src='${s}' alt='imagen producto'>\n                </div>\n                <h3 class='c-modal__h3'>Instrucciones</h3>\n                <p class='c-modal__p'>${a}</p>   \n            </div>\n                <button class='c-modal__boton c-boton js-boton' data-id=${t}>Guardar Favoritos</button>\n            <div class='c-modal__close'>\n                <i class='fa-solid fa-xmark'></i>\n            </div>\n            <div class='c-modal__mensaje'>\n            </div> \n        </li>\n    `,modalContenedor.appendChild(o),modalContenedor.classList.add("c-modal--mod")}function limpiarHTML(e){for(;e.firstChild;)e.removeChild(e.firstChild)}selectCategorias.addEventListener("change",seleccionarCategoria),burger.addEventListener("click",e=>{(e.target.classList.contains("fa")||e.target.classList.contains("js-nav__li-burger"))&&subnav.classList.toggle("c-nav__subnav--mod")}),resultadosContenedor.addEventListener("click",e=>{if(e.target.classList.contains("js-boton")){seleccionarReceta(e.target.getAttribute("id"))}}),modalContenedor.addEventListener("click",e=>{(e.target.classList.contains("fa-xmark")||e.target.classList.contains("c-modal__screen"))&&limpiarHTML(modalContenedor)}),document.addEventListener("DOMContentLoaded",iniciarApp);
//# sourceMappingURL=bundle.js.map
